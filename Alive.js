import cron from 'node-cron';
import axios from 'axios';

const url = 'eyJub2lzZUtleSI6eyJwcml2YXRlIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoiTUNFL1pKNmVQM0lPK0NPUGErTjFaOUE4UWNrVGZDZXJ4cUIwYzZ4SmRWQT0ifSwicHVibGljIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoibVVpOEFtdDFxSXhFcTc4eTIxK3E2Ri94d3g0UkZxWUpuL28vT3RIMTVRRT0ifX0sInBhaXJpbmdFcGhlbWVyYWxLZXlQYWlyIjp7InByaXZhdGUiOnsidHlwZSI6IkJ1ZmZlciIsImRhdGEiOiJzQXlBU1FsVWNoZlBCcHh0NENjajVWdFNpRGc5cFZHbjRLcU5WQzFTVG4wPSJ9LCJwdWJsaWMiOnsidHlwZSI6IkJ1ZmZlciIsImRhdGEiOiJ0TDYvUFN6Sm16akE3VGE0MnR5MG9uRkwzVUJ1aTlrdWgwdXlVUnlrdmxRPSJ9fSwic2lnbmVkSWRlbnRpdHlLZXkiOnsicHJpdmF0ZSI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6InFCcUFSdDNBQzZsanpnR2NDU2NUVjZNODZySkpLaUlSaXJmUGh1ZjBiMjA9In0sInB1YmxpYyI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6IlZqNElObU1tSjBtZzV0N3hsNldzQXoralpBQVNKbEtBWXdxdnphd0lseU09In19LCJzaWduZWRQcmVLZXkiOnsia2V5UGFpciI6eyJwcml2YXRlIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoiY0ZGc1FIUTkwclhCNUdRNVZxVGY0S1FySWlOQzFBUk9kV2VmUGkzdjVrWT0ifSwicHVibGljIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjoiY0pFTjN6YVZUNVN3dElLSHFpaVI5UDBjMm5ZQ1planFMejNUL2lDSEhEVT0ifX0sInNpZ25hdHVyZSI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6Im0rYkQyaG5GdVhaVTZGbHVIOEtCbWFiWncyUk5jb2twek5ySlYvbWxhRmI1SGtyWXYxTFkxOThyelUxQk1wdXpvaW8vdzdPdHNaelVnT0tNSXhMU2d3PT0ifSwia2V5SWQiOjF9LCJyZWdpc3RyYXRpb25JZCI6OTIsImFkdlNlY3JldEtleSI6InpnMlNWbHNJeDRuSHBtL2lmMG1HbHFUdUptYjdCUDd2T29tRlJhV2NUT2M9IiwicHJvY2Vzc2VkSGlzdG9yeU1lc3NhZ2VzIjpbeyJrZXkiOnsicmVtb3RlSmlkIjoiMjMzNTUwODY3MTY3QHMud2hhdHNhcHAubmV0IiwiZnJvbU1lIjp0cnVlLCJpZCI6IkQxOEMxRDk4QjdFNTkzRDczNjgxNkVEQkJCM0Y0MTM1In0sIm1lc3NhZ2VUaW1lc3RhbXAiOjE3NDg3Mjg0ODF9LHsia2V5Ijp7InJlbW90ZUppZCI6IjIzMzU1MDg2NzE2N0BzLndoYXRzYXBwLm5ldCIsImZyb21NZSI6dHJ1ZSwiaWQiOiI2MDMzQkYwQkJBMEMwNTYwODk2RTQzMDYxNzRCNUJFNCJ9LCJtZXNzYWdlVGltZXN0YW1wIjoxNzQ4NzI4NDg1fV0sIm5leHRQcmVLZXlJZCI6MzEsImZpcnN0VW51cGxvYWRlZFByZUtleUlkIjozMSwiYWNjb3VudFN5bmNDb3VudGVyIjoxLCJhY2NvdW50U2V0dGluZ3MiOnsidW5hcmNoaXZlQ2hhdHMiOmZhbHNlfSwicmVnaXN0ZXJlZCI6dHJ1ZSwicGFpcmluZ0NvZGUiOiJQTDhMR05OSiIsIm1lIjp7ImlkIjoiMjMzNTUwODY3MTY3OjE3QHMud2hhdHNhcHAubmV0IiwibGlkIjoiOTc4NDQyNzA3NjgzNjE6MTdAbGlkIiwibmFtZSI6IvCdlo4g8J2WhvCdlpIg8J2WkPCdlo3wnZaG8J2WlPCdlpgifSwiYWNjb3VudCI6eyJkZXRhaWxzIjoiQ1B1YmxhVURFSVQxN2NFR0dBWWdBQ2dBIiwiYWNjb3VudFNpZ25hdHVyZUtleSI6InM3QjU1dkoxREE1Nk5kdXJRa2hDNVRIZHFBdW5hWjlaMEFVaHFTT1FNWDA9IiwiYWNjb3VudFNpZ25hdHVyZSI6ImV6a2Z2cXRwQXorV2plNVdpa3RVK1ROYnV1Q0xiRUF0OEk3dngrV1Z2ZWFXc28xS3F2SkpmOTVFQlRwZXJzVmRZQVFZTmlROTNDQTNJQUlPNEFxMkFBPT0iLCJkZXZpY2VTaWduYXR1cmUiOiJES2tJWjZhcmZIWnhHSkhWdk95S0RqL3NOc1JSTHNlYjBVdWVFVnIzQjN4UHY1YTFtQmNkRTN4M0dOSGJtam9tYnN1WVYvVXFNTkVFU1BXQ2ZJakVqdz09In0sInNpZ25hbElkZW50aXRpZXMiOlt7ImlkZW50aWZpZXIiOnsibmFtZSI6IjIzMzU1MDg2NzE2NzoxN0BzLndoYXRzYXBwLm5ldCIsImRldmljZUlkIjowfSwiaWRlbnRpZmllcktleSI6eyJ0eXBlIjoiQnVmZmVyIiwiZGF0YSI6IkJiT3dlZWJ5ZFF3T2VqWGJxMEpJUXVVeDNhZ0xwMm1mV2RBRklha2prREY5In19XSwicGxhdGZvcm0iOiJhbmRyb2lkIiwicm91dGluZ0luZm8iOnsidHlwZSI6IkJ1ZmZlciIsImRhdGEiOiJDQUlJQ0E9PSJ9LCJsYXN0QWNjb3VudFN5bmNUaW1lc3RhbXAiOjE3NDg3Mjg0NjcsImxhc3RQcm9wSGFzaCI6IjJQMVloZiIsIm15QXBwU3RhdGVLZXlJZCI6IkFBQUFBT05yIn0=';

cron.schedule('*/14 * * * *', async () => {
  try {
    await axios.get(url);
    console.log('Service pinged successfully');
  } catch (error) {
    console.error('Error pinging service:', error);
  }
});
